<!doctype html>
<html lang="us">
<head>
	<meta charset="utf-8">
	<title>First jQuery UI</title>
	<link href="css/smoothness/jquery-ui-1.10.3.custom.css" rel="stylesheet">
	<script src="js/jquery-1.9.1.js"></script>
	<script src="js/jquery-ui-1.10.3.custom.js"></script>
	<script>
		$(function() {			
		    $( "#tabs" ).tabs();
    	});
	</script>

	<style type=text/css>
		li.ui-state-default {
    		font-size : 10px;
  		}
  		div.ui-tabs-panel {
    		font-size : 10px;
    		font-family : georgia;
    		font-style : italic;
  		}
  	</style>

	<script>
  
  		$(document).ready(function(){
			console.log('in ready ... ');
			getCheckInClassList();
			
			$("#btnStudentCheckInSearch").click(function() {
				console.log(" search student for check in process .. ");
				var checkinclasses = document.getElementById("checkinclasscombobox");
				if (null == checkinclasses.value) {
					alert("please select one class from the list");
				} else {
					getCheckInStudentList(checkinclasses.value);
				}
			});
			
			$(":button").on("click", function(event) {
				console.log(" student check in ... ");
			});
		});
	
		function getCheckInClassList() {
			console.log('in getCheckInClassList ... ');
			$.ajax({
				type: "GET",
				url: "../msd-app/msdclass",
				dataType: "json",
				contentType: "application/json",
				success: function(data) {
					$.each(data, function (i, theItem) {
						var checkinclasses = document.getElementById("checkinclasscombobox");
						var option = document.createElement("option");
						option.text = theItem.name;
						option.value = theItem.id;
						checkinclasses.add(option, null);
					});
				},
				error: function(msg, url, line) {
					alert('error');
				}
			});
		};
		
		function getCheckInStudentList(classid) {
			console.log("in getCheckInStudentList ... ");
						
			$.ajax({
				type: "GET",
				dataType: "json",
				url: "../msd-app/msdstudent",
				data: { msdclassid: classid, type: 'checkin' },
				success: function(data) {
					console.log (" get check in student list ... " );
					$.each(data, function (i, theItem) {
					
						$("#addstudentcheckinbutton_here").append($('<input/>').attr({ type: 'button', id:'btncheckin_' + theItem.id, value:theItem.name}));
					});
				},
				error: function(msg, url, line) {
					alert('error');
				}
			});
		};
  	</script>
</head>
<body>

	<p align="center"><img align="middle" src="msd.jpg" alt="some_text"></p>

	<div id="tabs">
	<ul>
    	<li><a href="#tabs-Student">Student</a></li>
	    <li><a href="#tabs-Class">Class</a></li>
	    <li><a href="#tabs-CheckIn">Student CheckIn</a></li>
	</ul>
  	<div id="tabs-Student">
    	<h2>MSD Student function ... </h2>
		<div class="ui-widget">
			<h3> Under construct ... </h3>
		</div>  
	</div>
  	<div id="tabs-Class">
    	<h2>MSD Class function ... </h2>
		<div class="ui-widget">
			<h3> Under construct ... </h3>
		</div>  
  	</div>
  	<div id="tabs-CheckIn">
    	<h2>Student Class Check In</h2>
    	<div class="ui-widget">
  			<label>Please select class:</label>
  			<select id="checkinclasscombobox">
    			<option value="">Select one...</option>
  			</select>
  			<input id="btnStudentCheckInSearch" type="submit" value="search" />
  			<div id="addstudentcheckinbutton_here">
  			</div>
  		</div>
  	</div>
	</div>

</body>
</html>
